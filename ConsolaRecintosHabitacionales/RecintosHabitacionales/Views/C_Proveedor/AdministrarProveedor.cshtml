@model DTOs.Proveedor.BusquedaProveedor;
@using Utilitarios;


<form action="@ConstantesAplicacion.pathConsola/C_Proveedor/BusquedaAvanzadaProveedor"
      data-ajax="true"
      data-ajax-method="Get"
      data-ajax-loading="#imagenCargando"
      data-ajax-update="#resultSearch"
      data-ajax-begin="emptyLastResults('resultSearch')"
      data-ajax-success="ordenarTabla('idTablaPersonas')"
      id="AjaxFormSend"
      method="post">
    <div class="card">
        <div class="card-header card-header-stretch">
            <div class="card-title d-flex align-items-center">
                <div class="row">
                    <div class="col-md-10">
                        <h3 class="fw-bolder m-0 text-gray-800">
                            <i class="fa-solid fa-building-wheat text-primary fs-2qx"></i>
                            Proveedor
                        </h3>
                    </div>
                    <div class="col-md-2">
                        <a class="btn btn-success" asp-action="CrearProveedor">Nuevo</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="card-body border-top">
            <div class="col-md-12">
                <div class="row">
                    <label class="fs-6 form-label fw-bolder text-dark">Datos</label>
                    <div class="col-md-3">
                        @Html.DropDownList("IdConjunto", ViewData["listaConjuntos"] as SelectList, htmlAttributes: new { @aria_label = "Selecionar", @data_control = "select2", @data_placeholder = "Seleccionar", @class = "form-select form-select-solid form-select-lg" })
                    </div>
                    <div class="col-md-3">
                        <input asp-for="NombreProveedor" type="text" class="form-control form-control-solid" placeholder="Nombre/Razón Social" />
                    </div>
                    <div class="col-md-2">
                        <input asp-for="RucProveedor" type="text" class="form-control form-control-solid" placeholder="RUC" />
                    </div>
                    <div class="col-md-3">
                        <input asp-for="EMailProveedor" type="text" class="form-control form-control-solid" placeholder="email" />
                    </div>

                </div>
            </div>
        </div>

        <div>
            <div class="col-md-3">
                <div class="form-group">
                    <button type="submit" class="btn btn-primary"><span class="fas fa-search"></span> Buscar</button>
                </div>
            </div>
        </div>
    </div>
    <center><img src="~/media/loading.gif" id="imagenCargando" name="imagenCargando" style="display:none" /></center>

</form>

<div id="resultSearch">
</div>

@section scripts{

    <script src="~/lib/datatables/js/jquery.dataTables.js"></script>
    <script src="~/lib/datatables/js/dataTables.bootstrap4.js"></script>
    <script src="~/js/JSBusquedaDocumentos.js"></script>
    <script src="~/js/cargadatosdocumentospersona.js"></script>


    <script type="text/javascript">
        $(document).ready(function () {
            const select = document.querySelector('#IdConjunto');
            if (select.options.length === 1) {
                select.selectedIndex = 0;
            }
        })

    </script>
}